<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Edgy API</title>
    <link rel="shortcut icon" type="image/x-icon" href="/img/logo.png">
    <link rel="stylesheet" href="https://maxst.icons8.com/vue-static/landings/line-awesome/line-awesome/1.3.0/css/line-awesome.min.css">
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- <link rel="stylesheet" href="/public/style.css"> -->
</head>

<body class="bg-slate-900">
    <nav class="bg-gray-800 outline-none sm:p-2">
        <div class="max-w-7xl mx-auto px-2 sm:px-6 lg:px-8">
          <div class="relative flex items-center justify-between h-16">
            <div class="absolute inset-y-0 left-0 flex items-center sm:hidden outline-none">
              <!-- Mobile menu button-->
              <button type="button" class="inline-flex items-center justify-center p-2 rounded-md text-gray-400 outline-none hover:text-white hover:bg-gray-700 mobileButton" aria-controls="mobile-menu" aria-expanded="false">
              
                <svg class="block h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
                </svg>

                <svg class="hidden h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                </svg>
              </button>

            </div>

            <!-- logo -->
            <div class="flex-1 flex items-center justify-center sm:items-stretch sm:justify-start">
              <div class="flex-shrink-0 flex items-center">
                <h2 class="text-3xl text-white font-bold mr-3">EDGY API</h2>
              </div>
              <div class="hidden sm:block sm:ml-6">
                <div class="flex space-x-4">
                  <a href="#" class="bg-gray-900 text-white px-3 py-2 rounded-md text-md font-medium" aria-current="page">Home</a>
      
                  <a href="/api/joke" class="text-gray-300 hover:bg-gray-700 hover:text-white px-3 py-2 rounded-md text-md font-medium">API</a>
                </div>
              </div>
            </div>
          </div>
        </div>
      
        <!-- Mobile menu, show/hide based on menu state. -->
        <div class="sm:hidden outline-none hidden" id="mobile-menu">
          <div class="px-2 pt-2 pb-3 space-y-1">
            <a href="#" class="bg-gray-900 text-white block px-3 py-2 rounded-md text-base font-medium" aria-current="page">Home</a>
      
            <a href="/api/joke" class="text-gray-300 hover:bg-gray-700 hover:text-white block px-3 py-2 rounded-md text-base font-medium">API</a>
          </div>
        </div>
    </nav>
    
    <div class="mt-10 lg:mx-80 text-center">
      <div class="showJoke">
        <p class="bg-slate-800 text-white p-6 mt-5 text-lg sm:w-max-full" id="showJoke"></p>
      </div>
    </div>

    <div class="text-center border-3 border-white my-10">
      <button id="btn" class="font-mono border-blue-700 border-2 px-3 py-2 text-white hover:shadow-lg sm:hover:transition sm:ease-in-out bg-blue-500 sm:hover:-translate-y-1 sm:hover:scale-110 hover:bg-indigo-500 outline-none" type="button">GET JOKE</button>  
            
      <h3 class="text-white text-sm sm:text-lg font-mono font-bold bg-gray-800 border-emerald-900 mt-4 p-3 lg:mx-96 sm:w-max-full" id="showJoke">
              Press <span class="bg-blue-600 border-blue-500 border-2 p-1 sm:p-1 sm:text-sm">GET JOKE</span> button to see a random joke. 
            </h3>
          
    </div> 

    <div class="p-3 text-white mx-3 sm:w-max-full">
        <h3 class="font-bold">USAGE :</h3>
        <p class="p-2 text-gray-500 mt-4"> <span class="text-red-600 mr-3 font-bold">GET</span><span id="endPoint"></span></p>
        <p class="mt-5"> To retrieve a random joke in JSON format go to <span class="bg-black p-1 font-mono border-gray-500 border-2 text-sm sm:text-md"><a href="/api/joke">/api/joke</a></span> endpoint.</p>
    </div>

    <div class="text-center text-white align-bottom my-5 absolute inset-x-0">
       <i class="las la-code"></i>
        <a href="https://www.twitter.com/zerodayrat" target="_blank">SAEED</a>
    </div>

<script>
const button = document.getElementById("btn")
const mobileMenu = document.getElementById("mobile-menu")
const mobileBtn = document.querySelector(".mobileButton")

mobileBtn.addEventListener("click",()=>{
  mobileMenu.classList.toggle("hidden")
})

window.onload=()=>{
  getJoke()
}

let getJoke = async()=>{
    let req = await fetch("/api/joke")
    let res = await req.json()
    let finaldata = res.body
    document.getElementById("showJoke").innerText = finaldata
    document.getElementById("endPoint").innerHTML = `${document.domain}/api/joke`
}
button.addEventListener("click",()=>getJoke());
</script>
</body>
</html>